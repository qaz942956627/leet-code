<p>æ•´æ•°æ•°ç»„ <code>nums</code> æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ <strong>äº’ä¸ç›¸åŒ</strong> ã€‚</p>

<p>åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ<code>nums</code> åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ <code>k</code>ï¼ˆ<code>0 &lt;= k &lt; nums.length</code>ï¼‰ä¸Šè¿›è¡Œäº† <strong>æ—‹è½¬</strong>ï¼Œä½¿æ•°ç»„å˜ä¸º <code>[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]</code>ï¼ˆä¸‹æ ‡ <strong>ä» 0 å¼€å§‹</strong> è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ <code>[0,1,2,4,5,6,7]</code> åœ¨ä¸‹æ ‡ <code>3</code> å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º&nbsp;<code>[4,5,6,7,0,1,2]</code> ã€‚</p>

<p>ç»™ä½  <strong>æ—‹è½¬å</strong> çš„æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>target</code> ï¼Œå¦‚æœ <code>nums</code> ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ <code>target</code> ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›&nbsp;<code>-1</code>&nbsp;ã€‚</p>

<p>ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º <code>O(log n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [<span><code>4,5,6,7,0,1,2]</code></span>, target = 0
<strong>è¾“å‡ºï¼š</strong>4
</pre>

<p><strong>ç¤ºä¾‹&nbsp;2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [<span><code>4,5,6,7,0,1,2]</code></span>, target = 3
<strong>è¾“å‡ºï¼š</strong>-1</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>nums = [1], target = 0
<strong>è¾“å‡ºï¼š</strong>-1
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul> 
 <li><code>1 &lt;= nums.length &lt;= 5000</code></li> 
 <li><code>-10<sup>4</sup> &lt;= nums[i] &lt;= 10<sup>4</sup></code></li> 
 <li><code>nums</code> ä¸­çš„æ¯ä¸ªå€¼éƒ½ <strong>ç‹¬ä¸€æ— äºŒ</strong></li> 
 <li>é¢˜ç›®æ•°æ®ä¿è¯ <code>nums</code> åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬</li> 
 <li><code>-10<sup>4</sup> &lt;= target &lt;= 10<sup>4</sup></code></li> 
</ul>

<details><summary><strong>Related Topics</strong></summary>æ•°ç»„ | äºŒåˆ†æŸ¥æ‰¾</details><br>

<div>ğŸ‘ 2458, ğŸ‘ 0<span style='float: right;'><span style='color: gray;'><a href='https://github.com/labuladong/fucking-algorithm/discussions/939' target='_blank' style='color: lightgray;text-decoration: underline;'>bug åé¦ˆ</a> | <a href='https://mp.weixin.qq.com/s/NF8mmVyXVfC1ehdMOsO7Cw' target='_blank' style='color: lightgray;text-decoration: underline;'>ä½¿ç”¨æŒ‡å—</a> | <a href='https://labuladong.github.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg' target='_blank' style='color: lightgray;text-decoration: underline;'>æ›´å¤šé…å¥—æ’ä»¶</a></span></span></div>

<div id="labuladong"><hr>

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.1ï¼Œ[æ‰‹æŠŠæ‰‹åˆ·äºŒå‰æ ‘ç³»åˆ—è¯¾ç¨‹](https://aep.xet.tech/s/3YGcq3) ä¸Šçº¿ï¼Œç¬¬ 16 æœŸåˆ·é¢˜æ‰“å¡ [æœ€åä¸€å¤©æŠ¥å](https://aep.xet.tech/s/46nofd)ã€‚**

<details><summary><strong>labuladong æ€è·¯</strong></summary>

## åŸºæœ¬æ€è·¯

è¿™æ˜¯ä¸€é“ç»å…¸çš„äºŒåˆ†æœç´¢é¢˜ç›®ï¼Œåªè¦æŠŠå›¾ç”»å‡ºæ¥å¹¶ä¸”æ­£ç¡®ç†è§£äº†å‰æ–‡ [äºŒåˆ†æœç´¢æ¡†æ¶è¯¦è§£](https://appktavsiei5995.pc.xiaoe-tech.com/detail/i_627cce93e4b0812e17989cfa/1)ï¼Œéš¾åº¦ä¸ç®—å¤§ã€‚

æŠŠä¸€ä¸ªæ’å¥½åºçš„æ•°ç»„å°±å¥½æ¯”ä¸€æ®µæ–œå‘ä¸Šçš„å±±å¡ï¼Œæ²¿ç€ä¸€ä¸ªå…ƒç´ æ—‹è½¬æ•°ç»„ï¼Œç›¸å½“äºå°†å±±å¡åˆ‡æ–­å¹¶æ—‹è½¬ï¼Œåœ¨åŸæœ¬å¹³æ»‘çš„å±±å¡ä¸Šäº§ç”Ÿä¸€ä¸ªã€Œæ–­å´–ã€ï¼š

![](https://labuladong.gitee.io/pictures/çŸ­é¢˜è§£/33_1.jpeg)

æ³¨æ„ã€Œæ–­å´–ã€å·¦ä¾§çš„æ‰€æœ‰å…ƒç´ æ¯”å³ä¾§æ‰€æœ‰å…ƒç´ éƒ½å¤§ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥åœ¨è¿™æ ·ä¸€ä¸ªå­˜åœ¨æ–­å´–çš„å±±å¡ä¸Šç”¨äºŒåˆ†æœç´¢ç®—æ³•æœç´¢å…ƒç´ çš„ï¼Œä¸»è¦åˆ†æˆä¸¤æ­¥ï¼š

**1ã€ç¡®å®š `mid` ä¸­ç‚¹è½åœ¨ã€Œæ–­å´–ã€å·¦ä¾§è¿˜æ˜¯å³ä¾§**ã€‚

**2ã€åœ¨ç¬¬ 1 æ­¥ç¡®å®šçš„ç»“æœä¹‹ä¸Šï¼Œæ ¹æ® `target` å’Œ `nums[left], nums[right], nums[mid]` çš„ç›¸å¯¹å¤§å°æ”¶ç¼©æœç´¢åŒºé—´**ã€‚

å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆå¯ä»¥æ ¹æ® `nums[mid]` å’Œ `nums[left]` çš„ç›¸å¯¹å¤§å°ç¡®å®š `mid` å’Œã€Œæ–­å´–ã€çš„ç›¸å¯¹ä½ç½®ï¼š

```java
if (nums[mid] >= nums[left]) {
    // mid è½åœ¨æ–­å´–å·¦è¾¹ï¼Œæ­¤æ—¶ nums[left..mid] æœ‰åº
} else {
    // mid è½åœ¨æ–­å´–å³è¾¹ï¼Œæ­¤æ—¶ nums[mid..right] æœ‰åº
}
```

![](https://labuladong.gitee.io/pictures/çŸ­é¢˜è§£/33_2.jpeg)

å‡è®¾ `mid` åœ¨ã€Œæ–­å´–ã€å·¦ä¾§ï¼Œé‚£ä¹ˆå¯ä»¥è‚¯å®š `nums[left..mid]` æ˜¯è¿ç»­ä¸”æœ‰åºçš„ï¼Œæ‰€ä»¥å¦‚æœ `nums[left] <= target < nums[mid]`ï¼Œåˆ™å¯ä»¥æ”¶ç¼©å³è¾¹ç•Œï¼Œå¦åˆ™åº”è¯¥æ”¶ç¼©å·¦è¾¹ç•Œã€‚

å‡è®¾ `mid` åœ¨ã€Œæ–­å´–ã€å³ä¾§ï¼Œé‚£ä¹ˆå¯ä»¥è‚¯å®š `nums[mid..right]` æ˜¯è¿ç»­ä¸”æœ‰åºçš„ï¼Œæ‰€ä»¥å¦‚æœ `nums[mid] < target <= nums[right]`ï¼Œåˆ™å¯ä»¥æ”¶ç¼©å·¦è¾¹ç•Œï¼Œå¦åˆ™åº”è¯¥æ”¶ç¼©å³è¾¹ç•Œã€‚

æœ‰äº†è¿™ä¸ªæ€è·¯ï¼Œå³å¯å†™å‡ºæ­£ç¡®çš„ä»£ç ï¼Œæ›´å¤šç»†èŠ‚é—®é¢˜è§æ³¨é‡Šã€‚

**æ ‡ç­¾ï¼š[äºŒåˆ†æœç´¢](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)ï¼Œ[æ•°ç»„](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAxODQxMDM0Mw==&action=getalbum&album_id=2120601117519675393)**

## è§£æ³•ä»£ç 

```java
class Solution {
    public int search(int[] nums, int target) {
        // å·¦å³éƒ½é—­çš„æœç´¢åŒºé—´
        int left = 0, right = nums.length - 1;
        // å› ä¸ºæ˜¯é—­åŒºé—´ï¼Œæ‰€ä»¥ç»“æŸæ¡ä»¶ä¸º left > right
        while (left <= right) {
            int mid = left + (right - left) / 2;
            // é¦–å…ˆæ£€æŸ¥ nums[mid]ï¼Œæ˜¯å¦æ‰¾åˆ° target
            if (nums[mid] == target) {
                return mid;
            }
            if (nums[mid] >= nums[left]) {
                // mid è½åœ¨æ–­å´–å·¦è¾¹ï¼Œæ­¤æ—¶ nums[left..mid] æœ‰åº
                if (target >= nums[left] && target < nums[mid]) {
                    // target è½åœ¨ [left..mid-1] ä¸­
                    right = mid - 1;
                } else {
                    // target è½åœ¨ [mid+1..right] ä¸­
                    left = mid + 1;
                }
            } else {
                // mid è½åœ¨æ–­å´–å³è¾¹ï¼Œæ­¤æ—¶ nums[mid..right] æœ‰åº
                if (target <= nums[right] && target > nums[mid]) {
                    // target è½åœ¨ [mid+1..right] ä¸­
                    left = mid + 1;
                } else {
                    // target è½åœ¨ [left..mid-1] ä¸­
                    right = mid - 1;
                }
            }
        }
        // while ç»“æŸè¿˜æ²¡æ‰¾åˆ°ï¼Œè¯´æ˜ target ä¸å­˜åœ¨
        return -1;
    }
}
```

**ç±»ä¼¼é¢˜ç›®**ï¼š
  - [81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II ğŸŸ ](/problems/search-in-rotated-sorted-array-ii)

</details>
</div>





















